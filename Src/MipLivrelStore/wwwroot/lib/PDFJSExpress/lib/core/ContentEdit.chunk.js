/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[7],{143:function(Ca,ua,r){function pa(Ta,Oa,za,Ia){return Object(ca.b)(void 0,void 0,void 0,function(){var Ha,Sa,Wa,Qa,Aa,Ba,Ua,Va,Za;return Object(ca.d)(this,function(db){switch(db.label){case 0:return Ha=Ma.getDocument(),Sa=[1],[4,Object(ia.c)(Oa,{extension:"pdf"})];case 1:return Wa=db.ea(),Qa=Ma.Ga(),Ua=(Ba=ta.a).h$,[4,Wa.Py()];case 2:return Aa=Ua.apply(Ba,[db.ea().xfdfString,Ta]),Va=!0,[4,Ha.Te(Wa,Sa,Ta,Va)];case 3:return db.ea(),
[4,Ha.Cf([Ta+1],Va)];case 4:return db.ea(),Za=Qa.Cg().filter(function(fb){return fb.sP()&&fb.PageNumber===Ta}),Qa.xt(Za,{force:!0,source:"contentEditTool"}),[4,Qa.WO(Aa)];case 5:return db.ea(),Ma.getDocument().hH(),Ma.gH(Ta),Ma.pe(),ea(Ta),n(Ta,za.galleys,Ia),n(Ta,za.objects,Ia),[2]}})})}function ja(Ta){Ta=(new DOMParser).parseFromString(Ta,"text/html").documentElement.querySelector("body");Ta.querySelectorAll("p").forEach(function(Oa){Oa.querySelectorAll("span").forEach(function(Ha){var Sa=Ha.getAttribute("style");
Sa=ka(Sa,Ha.innerHTML);Ha.innerHTML=Sa});var za=Oa.getAttribute("style"),Ia=Oa.innerHTML.replaceAll("<br>","");Oa.innerHTML=ka(za,Ia)});return Ta.innerHTML.trim()}function ka(Ta,Oa){Ta.includes("bold")&&(Oa="<strong>"+Oa+"</strong>");Ta.includes("italic")&&(Oa="<em>"+Oa+"</em>");Ta.includes("text-decoration: underline")&&(Oa="<u>"+Oa+"</u>");return Oa}function ea(Ta){var Oa=Ma.Ga(),za=Oa.Cg().filter(function(Ia){return Ia.ou()&&Ia.PageNumber===Ta});Oa.xt(za,{force:!0,source:"contentEditTool"})}function da(Ta,
Oa){Oa.forEach(function(za){Pa[Ta]||(Pa[Ta]=[]);Pa[Ta].find(function(Ia){return Ia.id===za.id})||Pa[Ta].push(za)})}function ba(Ta,Oa){Oa.forEach(function(za){La[Ta]||(La[Ta]=[]);La[Ta].find(function(Ia){return Ia.id===za.id})||La[Ta].push(za)})}function w(Ta){var Oa=new DOMParser,za=Oa.parseFromString(Ta,"text/xml");za.querySelector("parsererror")&&(za=Oa.parseFromString("<Root>"+Ta+"</Root>","text/xml"));za.querySelectorAll("a").forEach(function(Ia){var Ha=Ia.childNodes[0];Array.from(Ia.querySelectorAll("*")).find(function(Sa){return"u"===
Sa.tagName.toLowerCase()})||(Ia=document.createElement("u"),Ha.after(Ia),Ia.appendChild(Ha))});return(new XMLSerializer).serializeToString(za)}function y(Ta,Oa,za,Ia){this.top=Ta;this.left=Oa;this.bottom=za;this.right=Ia;this.topVal=function(){return Math.round(this.top)};this.bottomVal=function(){return Math.round(this.bottom)};this.leftVal=function(){return Math.round(this.left)};this.rightVal=function(){return Math.round(this.right)};this.height=function(){return Math.round(Math.abs(this.top-this.bottom))};
this.width=function(){return Math.round(this.right-this.left)};this.TL=function(Ha){return this.topVal()!==Ha.topVal()||this.leftVal()!==Ha.leftVal()||this.bottomVal()!==Ha.bottomVal()||this.rightVal()!==Ha.rightVal()}}function f(Ta,Oa,za,Ia,Ha){this.id=Ta;this.pagenum=Oa;this.galleysContents=za;this.contents=Ia;this.galleyBox=Ha;Object(va.d)(La)}function e(Ta,Oa,za,Ia){this.id=Oa;this.type=Ta;this.bbox=za;this.pagenum=Ia}function a(Ta,Oa,za,Ia,Ha){this.id=Ta;this.pagecount=Oa;this.pageBBox=za;this.galleys=
Ia;this.objects=Ha}function b(Ta,Oa,za,Ia,Ha){var Sa=[];(new DOMParser).parseFromString(Ia,"text/html").documentElement.querySelectorAll("p").forEach(function(Ba,Ua){Sa[Ua]=Ba.innerHTML});za=(new DOMParser).parseFromString(za,"text/html");var Wa=null;za.documentElement.querySelectorAll("p").forEach(function(Ba,Ua){Ua<Sa.length?(Ba.innerHTML=Sa[Ua],Wa=Ba.getAttribute("style"),Wa=Wa.replace("font:italic","font:normal"),Wa=Wa.replace(" bold "," normal "),Wa=Wa.replace("underline:1;","underline:0;"),
Ba.setAttribute("style",Wa)):Ba.remove()});for(Ia=za.documentElement.querySelectorAll("p").length;Ia<Sa.length;Ia++){var Qa=document.createElement("p");Qa.setAttribute("id","0");Qa.innerHTML=Sa[Ia];null!=Wa&&Qa.setAttribute("style",Wa);za.documentElement.querySelector("body").appendChild(Qa)}za=za.documentElement.querySelector("body").innerHTML;var Aa="";La[Ta].forEach(function(Ba){Ba.id===Ha&&(Aa=Ba)});if(""===Aa)return"";Oa="<DOC id='"+Oa.id+"' pagecount='"+Oa.pagecount+"'>";Oa=Oa+("<STORY galley_ids='"+
Ha+"' pagenum='"+Ta+"'><galleys>")+(Aa.galleysContents+"</galleys>");Aa.contents=za;Oa=Oa+za+"\n</STORY>";return Oa+="</DOC>"}function n(Ta,Oa,za){var Ia=[],Ha=Ma.getDocument(),Sa=null;Oa.forEach(function(Wa){if(Wa instanceof e){var Qa=Ha.$l(Ta,Wa.bbox.leftVal(),Wa.bbox.topVal());var Aa=Qa.x;var Ba=Qa.y;var Ua=Ha.$l(Ta,Wa.bbox.rightVal(),Wa.bbox.bottomVal());Qa=Ua.x;Ua=Ua.y}else if(Wa instanceof f)Qa=Ha.$l(Ta,Wa.galleyBox.leftVal(),Wa.galleyBox.topVal()),Aa=Qa.x,Ba=Qa.y,Ua=Ha.$l(Ta,Wa.galleyBox.rightVal(),
Wa.galleyBox.bottomVal()),Qa=Ua.x,Ua=Ua.y;else return;var Va=new window.Core.Annotations.RectangleAnnotation,Za=sa.a.OBJECT;Wa instanceof f&&(Za=sa.a.TEXT);Va.Dba(Wa,Za);Va.PageNumber=Wa.pagenum;Va.X=Aa;Va.Y=Ba;Va.Width=Qa-Aa;Va.Height=Ua-Ba;Va.StrokeColor=new fa.a("#3183C8");Va.FillColor=new fa.a(255,255,255,.01);Va.Style="dash";Va.Dashes="4,3";Va.RM();Va.selectionModel=ma.a;Ia.push(Va);"undefined"!==typeof za&&za===Wa.id&&(Sa=Va)});Oa=Ma.Ga();Oa.hn(Ia);Sa&&Oa.Mo(Sa);Oa.Gi(Ia)}function h(Ta,Oa,za){return Object(ca.b)(this,
void 0,void 0,function(){var Ia,Ha,Sa,Wa,Qa;return Object(ca.d)(this,function(Aa){switch(Aa.label){case 0:Ia=Ta.data;Sa=Ia.cmd;switch(Sa){case "isReady":return[3,1];case "initialiseInfixServer":return[3,3];case "exportFile":return[3,4];case "importText":return[3,5];case "transformObject":return[3,5];case "deleteObject":return[3,6]}return[3,7];case 1:return[4,Object(qa.b)()];case 2:return Wa=Aa.ea(),Ea.postMessage({cmd:"initialiseInfixServer",l:Wa}),[3,7];case 3:return(Qa=x(Ia.resultsXML))?Oa():za("License key does not have content edit permission"),
[3,7];case 4:return Ia.exportPerformed?z(Ia.pageNumber,Ia.exportXML,Ia.objectXML,Ia.resultsXML):(Ha=Fa[Ia.pageNumber],ba(Ia.pageNumber,Ha.galleys),da(Ia.pageNumber,Ha.objects),ea(Ia.pageNumber),n(Ia.pageNumber,Ha.galleys),n(Ia.pageNumber,Ha.objects)),[3,7];case 5:return Ha=Fa[Ia.pageNumber],aa(Ia.pageNumber,Ia.resultsXML),pa(Ia.pageNumber,Ia.pdfBuffer,Ha,Ia.id),[3,7];case 6:return Ha=Fa[Ia.pageNumber],aa(Ia.pageNumber,Ia.resultsXML),Ha.galleys=Ha.galleys.filter(function(Ba){return Ba.id!==Ia.id}),
Ha.objects=Ha.objects.filter(function(Ba){return Ba.id!==Ia.id}),pa(Ia.pageNumber,Ia.pdfBuffer,Ha),[3,7];case 7:return[2]}})})}function x(Ta){Ta=new Uint8Array(Ta);var Oa=(new TextDecoder("utf-8")).decode(Ta);Ta=!1;Oa=(new DOMParser).parseFromString(Oa,"text/xml").getElementsByTagName("LicenseCheck");null!==Oa&&0<Oa.length&&(Oa=Oa[0].getElementsByTagName("Status")[0].innerHTML,"error"!==Oa&&"ok"===Oa&&(Ta=!0));return Ta}function z(Ta,Oa,za,Ia){var Ha=new Uint8Array(Oa),Sa=new TextDecoder("utf-8");
Oa=Sa.decode(Ha);Ha=new Uint8Array(za);za=Sa.decode(Ha);Ha=new Uint8Array(Ia);Ia=Sa.decode(Ha);Fa[Ta]=la(Ta,Oa,za,Ia);Ia=Fa[Ta];ba(Ta,Ia.galleys);da(Ta,Ia.objects);ea(Ta);n(Ta,Ia.galleys);n(Ta,Ia.objects)}function ha(Ta,Oa){Ta=parseFloat(Ta);return isNaN(Oa)||Oa<Ta?Ta:Oa}function la(Ta,Oa,za,Ia){var Ha;var Sa=new DOMParser;Ia=Sa.parseFromString(Ia,"text/xml");Array.prototype.slice.call(Ia.getElementsByTagName("BBox")).forEach(function(Aa){if("CropBox"===Aa.getAttribute("Name")){var Ba=parseFloat(Aa.getElementsByTagName("Top").item(0).innerHTML),
Ua=parseFloat(Aa.getElementsByTagName("Bottom").item(0).innerHTML),Va=parseFloat(Aa.getElementsByTagName("Left").item(0).innerHTML);Aa=parseFloat(Aa.getElementsByTagName("Right").item(0).innerHTML);Ha=new y(Ba,Va,Ua,Aa)}});Sa=new DOMParser;Ia=Sa.parseFromString(Oa,"text/xml");var Wa=[];Array.prototype.slice.call(Ia.getElementsByTagName("STORY")).forEach(function(Aa){var Ba=Aa.getAttribute("galley_ids"),Ua=Array.prototype.slice.call(Aa.getElementsByTagName("g"))[0],Va=Ua.getAttribute("bbox").split(" ");
Va=new y(parseFloat(Va[0]),parseFloat(Va[1]),parseFloat(Va[2]),parseFloat(Va[3]));Ua=Ua.innerHTML;var Za=Array.prototype.slice.call(Aa.getElementsByTagName("galleys"))[0];Za.parentNode.removeChild(Za);Aa=Aa.innerHTML;Aa=(new DOMParser).parseFromString(Aa,"text/html").documentElement.querySelector("body").innerHTML.trim();Ba=new f(Ba,Ta,Ua,Aa,Va);Wa.push(Ba)});Sa=new DOMParser;var Qa=[];Oa=Sa.parseFromString(za,"text/xml").getElementsByTagName("Object");Array.prototype.slice.call(Oa).forEach(function(Aa){var Ba=
Aa.getAttribute("Type"),Ua=Aa.getAttribute("OID");Aa=Array.prototype.slice.call(Aa.getElementsByTagName("Point"));var Va=Number.NaN,Za=Number.NaN,db=Number.NaN,fb=Number.NaN;Aa.forEach(function(hb){var mb=hb.getAttribute("Name");"TL"===mb?(Va=ha(hb.getAttribute("Y"),Va),db=ha(hb.getAttribute("X"),db)):"TR"===mb?(Va=ha(hb.getAttribute("Y"),Va),fb=ha(hb.getAttribute("X"),fb)):"BR"===mb?(Za=ha(hb.getAttribute("Y"),Za),fb=ha(hb.getAttribute("X"),fb)):"BL"===mb&&(Za=ha(hb.getAttribute("Y"),Za),db=ha(hb.getAttribute("X"),
db))});Aa=new y(Va,db,Za,fb);Ba=new e(Ba,Ua,Aa,Ta);Qa.push(Ba)});Oa=Array.prototype.slice.call(Ia.getElementsByTagName("DOC"))[0].getAttribute("id");return new a(Oa,1,Ha,Wa,Qa)}function aa(Ta,Oa){var za;Oa=(new TextDecoder("utf-8")).decode(Oa);var Ia=(new DOMParser).parseFromString(Oa,"text/xml");Oa=Ia.getElementsByTagName("Galley").item(0);if(null!=Oa){var Ha=Oa.getAttribute("id");Oa=Ia.getElementsByTagName("BBox");Oa=Array.prototype.slice.call(Oa);Oa.forEach(function(Qa){var Aa=Qa.getElementsByTagName("Top"),
Ba=parseFloat(Aa.item(0).innerHTML);Aa=Qa.getElementsByTagName("Left");var Ua=parseFloat(Aa.item(0).innerHTML);Aa=Qa.getElementsByTagName("Bottom");var Va=parseFloat(Aa.item(0).innerHTML);Aa=Qa.getElementsByTagName("Right");Qa=parseFloat(Aa.item(0).innerHTML);za=new y(Ba,Ua,Va,Qa)});La[Ta].forEach(function(Qa){Qa.id===Ha&&!0===za.TL(Qa.galleyBox)&&(Qa.galleyBox=za)})}Oa=Ia.getElementsByTagName("Object").item(0);if(null!=Oa){var Sa=Oa.getAttribute("OID");Oa=Ia.getElementsByTagName("BBox");Oa=Array.prototype.slice.call(Oa);
Oa.forEach(function(Qa){var Aa=Qa.getElementsByTagName("Top"),Ba=parseFloat(Aa.item(0).innerHTML);Aa=Qa.getElementsByTagName("Left");var Ua=parseFloat(Aa.item(0).innerHTML);Aa=Qa.getElementsByTagName("Bottom");var Va=parseFloat(Aa.item(0).innerHTML);Aa=Qa.getElementsByTagName("Right");Qa=parseFloat(Aa.item(0).innerHTML);za=new y(Ba,Ua,Va,Qa)});Pa[Ta].forEach(function(Qa){Qa.id===Sa&&!0===za.TL(Qa.bbox)&&(Qa.bbox=za)})}Oa=Ia.getElementsByTagName("NewParas").item(0);if(null!=Oa){var Wa=Oa.getAttribute("id");
La[Ta].forEach(function(Qa){if(Qa.id===Wa){var Aa="<Contents>"+Qa.contents;Aa+="</Contents>";var Ba=Array.prototype.slice.call(Ia.getElementsByTagName("NewPara"));Aa=(new DOMParser).parseFromString(Aa,"text/xml");var Ua=Array.prototype.slice.call(Aa.getElementsByTagName("p"));Ba.forEach(function(Va){var Za=parseFloat(Va.innerHTML),db=!1;Ua.forEach(function(fb){var hb=fb.getAttribute("id");!1===db&&"0"===hb&&(fb.setAttribute("id",Za),db=!0)})});Qa.contents=Aa.getElementsByTagName("Contents").item(0).innerHTML}})}}
r.r(ua);var ca=r(1),ia=r(49),fa=r(17),ma=r(428),na=r(34),qa=r(68),ra=r(2),sa=r(258),va=r(154),ta=r(6),Ea=null,Ga=null,La={},Pa={},Fa={},Ma;ua["default"]={f$:function(Ta){return Object(ca.b)(void 0,void 0,void 0,function(){return Object(ca.d)(this,function(){Ga||(Ma=Ta,Ga=new Promise(function(Oa,za){Ea=new Worker(window.Core.getWorkerPath()+"contentEdit/InfixServerModule.js");Ea.onmessage=function(Ia){h(Ia,Oa,za)};Ea.postMessage({cmd:"isReady"})}));return[2,Ga]})})},xja:function(Ta,Oa,za){return Object(ca.b)(void 0,
void 0,void 0,function(){var Ia,Ha,Sa,Wa;return Object(ca.d)(this,function(Qa){switch(Qa.label){case 0:return ea(Oa),La[Oa]=[],Pa[Oa]=[],[4,Ta.$d([Oa])];case 1:return Ia=Qa.ea(),Ha=new TextEncoder,Sa=Ha.encode(""),Wa=Sa.buffer,Ea.postMessage({cmd:"exportFile",pageNumber:Oa,performExport:za,pdfFile:Ia,tableData:Wa},[Ia,Wa]),[2]}})})},uga:function(Ta){return Object(ca.b)(void 0,void 0,void 0,function(){var Oa,za,Ia,Ha,Sa,Wa,Qa,Aa;return Object(ca.d)(this,function(Ba){switch(Ba.label){case 0:return Oa=
Ta.id,za=Ta.isText,Ia=Ta.pageNumber,Ha=Ma.getDocument(),[4,Ha.$d([Ia])];case 1:return Sa=Ba.ea(),Wa=new TextEncoder,Qa=Wa.encode(""),Aa=Qa.buffer,Ea.postMessage({cmd:"deleteObject",pdfFile:Sa,pageNumber:Ia,objectID:Oa,isText:za,tableData:Aa},[Aa]),[2]}})})},Qka:function(Ta){return Object(ca.b)(void 0,void 0,void 0,function(){var Oa,za,Ia,Ha,Sa,Wa,Qa,Aa,Ba,Ua,Va,Za,db;return Object(ca.d)(this,function(fb){switch(fb.label){case 0:return Oa=Ta.id,za=Ta.position,Ia=za.top,Ha=za.left,Sa=za.bottom,Wa=za.right,
Qa=Ta.isText,Aa=Ta.pageNumber,Ba=Ma.getDocument(),[4,Ba.$d([Aa])];case 1:return Ua=fb.ea(),Va=new TextEncoder,Za=Va.encode(""),db=Za.buffer,Ea.postMessage({cmd:"transformObject",pdfFile:Ua,pageNumber:Aa,objectID:Oa,isText:Qa,topVal:Ia,leftVal:Ha,bottomVal:Sa,rightVal:Wa,tableData:db},[db]),[2]}})})},Nda:function(Ta,Oa){return Object(ca.b)(void 0,void 0,void 0,function(){var za,Ia,Ha,Sa,Wa,Qa,Aa,Ba,Ua,Va,Za,db,fb,hb,mb,ub,pb,vb;return Object(ca.d)(this,function(Ab){switch(Ab.label){case 0:za=Oa.replaceAll("<p><br></p>",
"");Ia=w(za);Ia=Ia.replace(/<span style="color: var\(--text-color\);">(.*?)<\/span>/g,"$1");Ha=Ta.lC.id;Sa=Ta.PageNumber;Wa=Fa[Sa];Qa=Wa.galleys.find(function(Cb){return Cb.id===Ha});Aa=ja(Qa.contents);Ba=b(Sa,Wa,Aa,Ia,Ha);if(""===Ba)return[3,2];Ua=new TextEncoder;Va=Ua.encode(Ba);Za=Va.buffer;db=Object(na.c)()||"https://www.pdftron.com/webfonts/v2/";fb=Ma.getDocument();return[4,fb.$d([Sa])];case 1:return hb=Ab.ea(),Ua=new TextEncoder,mb=Ua.encode(""),ub=mb.buffer,Ea.postMessage({cmd:"importText",
pdfFile:hb,pageNumber:Sa,webFontURL:db,galleyId:Ha,importData:Za,tableData:ub},[Za,ub]),pb={},Qa&&(vb=Qa.galleyBox,pb={top:vb.top,left:vb.left,bottom:vb.bottom,right:vb.right}),Object(va.e)(Aa,Ia,pb),[3,3];case 2:Object(ra.g)("Unable to generate import XML"),Ab.label=3;case 3:return[2]}})})},r4:function(Ta){if(Ta)return ja(Ta.contents);Object(ra.g)("Unable to extract document content")}}},428:function(Ca,ua,r){var pa=r(1);Ca=r(73);var ja=r(45);r=function(ka){function ea(){return null!==ka&&ka.apply(this,
arguments)||this}Object(pa.c)(ea,ka);ea.prototype.testSelection=function(da,ba,w){return ja.a.Jj(da,ba,w)};return ea}(Ca.a);ua.a=r}}]);}).call(this || window)
