/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{383:function(Ca,ua,r){r.r(ua);r.d(ua,"ByteRangeRequest",function(){return x});var pa=r(1),ja=r(0);r.n(ja);var ka=r(2),ea=r(132);Ca=r(84);var da=r(216),ba=r(65),w=r(61),y=r(215),f=r(142);r=r(315);var e=[],a=[],b=window,n=function(){return function(){this.Ek=1}}(),h;(function(ha){ha[ha.UNSENT=0]="UNSENT";ha[ha.DONE=4]="DONE"})(h||(h={}));var x=function(){function ha(la,aa,ca,ia){var fa=this;this.url=la;this.range=aa;this.ze=ca;
this.withCredentials=ia;this.fX=h;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");ia&&(this.request.withCredentials=ia);z.DISABLE_RANGE_HEADER||(Object(ja.isUndefined)(aa.stop)?this.request.setRequestHeader("Range","bytes="+aa.start):this.request.setRequestHeader("Range",["bytes=",aa.start,"-",aa.stop-1].join("")));ca&&Object.keys(ca).forEach(function(ma){fa.request.setRequestHeader(ma,ca[ma])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}ha.prototype.start=function(la){var aa=this,ca=this.request;ca.onreadystatechange=function(){if(aa.aborted)return aa.status=y.a.ABORTED,la({code:y.a.ABORTED});if(this.readyState===aa.fX.DONE){aa.qz();var ia=0===window.document.URL.indexOf("file:///");200===ca.status||206===ca.status||ia&&0===ca.status?(ia=b.tO(this),aa.lI(ia,la)):(aa.status=
y.a.ERROR,la({code:aa.status,status:aa.status}))}};this.request.send(null);this.status=y.a.STARTED};ha.prototype.lI=function(la,aa){this.status=y.a.SUCCESS;if(aa)return aa(!1,la)};ha.prototype.abort=function(){this.qz();this.aborted=!0;this.request.abort()};ha.prototype.qz=function(){var la=Object(f.c)(this.url,this.range,a);-1!==la&&a.splice(la,1);if(0<e.length){la=e.shift();var aa=new ha(la.url,la.range,this.ze,this.withCredentials);la.request=aa;a.push(la);aa.start(Object(f.d)(la))}};ha.prototype.extend=
function(la){var aa=Object.assign({},this,la.prototype);aa.constructor=la;return aa};return ha}(),z=function(ha){function la(aa,ca,ia,fa,ma){ia=ha.call(this,aa,ia,fa)||this;ia.Hk={};ia.Zx=ca;ia.url=aa;ia.DISABLE_RANGE_HEADER=!1;ia.kv=x;ia.fJ=3;ia.ze=ma||{};return ia}Object(pa.c)(la,ha);la.prototype.rt=function(aa,ca,ia){var fa=-1===aa.indexOf("?")?"?":"&";switch(ia){case !1:case w.a.NEVER_CACHE:aa=aa+fa+"_="+Object(ja.uniqueId)();break;case !0:case w.a.CACHE:aa=aa+fa+"_="+ca.start+","+(Object(ja.isUndefined)(ca.stop)?
"":ca.stop)}return aa};la.prototype.wM=function(aa,ca,ia,fa){void 0===ia&&(ia={});return new this.kv(aa,ca,ia,fa)};la.prototype.P2=function(aa,ca,ia,fa,ma){for(var na=0;na<e.length;na++)if(Object(ja.isEqual)(e[na].range,ca)&&Object(ja.isEqual)(e[na].url,aa))return e[na].Uf.push(fa),e[na].qA++,null;for(na=0;na<a.length;na++)if(Object(ja.isEqual)(a[na].range,ca)&&Object(ja.isEqual)(a[na].url,aa))return a[na].Uf.push(fa),a[na].qA++,null;ia={url:aa,range:ca,Zx:ia,Uf:[fa],qA:1};if(0===e.length&&a.length<
this.fJ)return a.push(ia),ia.request=this.wM(aa,ca,ma,this.withCredentials),ia;e.push(ia);return null};la.prototype.im=function(aa,ca,ia){var fa=this.rt(aa,ca,this.Zx);(aa=this.P2(fa,ca,this.Zx,ia,this.ze))&&aa.request.start(Object(f.d)(aa));return function(){var ma=Object(f.c)(fa,ca,a);if(-1!==ma){var na=--a[ma].qA;0===na&&a[ma].request&&a[ma].request.abort()}else ma=Object(f.c)(fa,ca,e),-1!==ma&&(na=--e[ma].qA,0===na&&e.splice(ma,1))}};la.prototype.$N=function(){return{start:-ea.a}};la.prototype.o6=
function(){var aa=-(ea.a+ea.e);return{start:aa-ea.d,end:aa}};la.prototype.Yq=function(aa){var ca=this;this.hy=!0;var ia=ea.a;this.im(this.url,this.$N(),function(fa,ma,na){function qa(){var ra=ca.qd.WN();ca.im(ca.url,ra,function(sa,va){if(sa)return Object(ka.j)("Error loading central directory: "+sa),aa(sa);va=Object(ba.a)(va);if(va.length!==ra.stop-ra.start)return aa("Invalid XOD file: Zip central directory data is wrong size! Should be "+(ra.stop-ra.start)+" but is "+va.length);ca.qd.xR(va);ca.ND=
!0;ca.hy=!1;return aa(!1)})}if(fa)return Object(ka.j)("Error loading end header: "+fa),aa(fa,ma,na);ma=Object(ba.a)(ma);if(ma.length!==ia)return aa("Invalid XOD file: Zip end header data is wrong size!");try{ca.qd=new da.a(ma)}catch(ra){return aa(ra)}ca.qd.Q7?ca.im(ca.url,ca.o6(),function(ra,sa){if(ra)return Object(ka.j)("Error loading zip64 header: "+ra),aa(ra);sa=Object(ba.a)(sa);ca.qd.h8(sa);qa()}):qa()})};la.prototype.rO=function(aa){aa(Object.keys(this.qd.Ml))};la.prototype.bH=function(aa,ca){var ia=
this;if(this.qd.pM(aa)){var fa=this.qd.jz(aa);if(fa in this.Hk){var ma=this.Vg[aa];ma.Lp=this.Hk[fa];ma.Lp.Ek++;ma.cancel=ma.Lp.cancel}else{var na=this.qd.D4(aa),qa=this.im(this.url,na,function(sa,va){sa?(Object(ka.j)('Error loading part "'+aa+'": '+sa),ia.im(ia.url,na,function(ta,Ea){if(ta)return ca(ta,aa);ia.BR(Ea,na,fa,aa,ca)})):ia.BR(va,na,fa,aa,ca)}),ra=this.Vg[aa];ra&&(ra.HT=!0,ra.cancel=function(){ra.Lp.Ek--;0===ra.Lp.Ek&&(qa(),delete ia.Hk[fa])},this.Hk[fa]=new n(fa),ra.Lp=this.Hk[fa],ra.Lp.cancel=
ra.cancel)}}else delete this.Vg[aa],ca(Error('File not found: "'+aa+'"'),aa)};la.prototype.BR=function(aa,ca,ia,fa,ma){if(aa.length!==ca.stop-ca.start)ma(Error("Part data is wrong size!"),fa);else{do{if(!this.Hk[ia])return;fa=this.Hk[ia].Ek;for(var na=ca.Eo.length,qa=0;qa<na;++qa){var ra=ca.Eo[qa];ma(!1,ra.Bo,aa["string"===typeof aa?"substring":"subarray"](ra.start,ra.stop),this.qd.kP(ra.Bo));ra.Bo in this.Vg&&delete this.Vg[ra.Bo]}}while(fa!==this.Hk[ia].Ek);delete this.Hk[ia]}};la.DISABLE_RANGE_HEADER=
!1;la.fJ=3;return la}(Ca.a);(function(ha){function la(aa,ca,ia){var fa=ha.call(this)||this,ma;for(ma in aa)fa[ma]=aa[ma];fa.pja=aa;fa.startOffset=ca;fa.endOffset=ia;fa.wM=function(na,qa,ra,sa){Object(ja.isUndefined)(qa.stop)?(qa.start+=fa.endOffset,qa.stop=fa.endOffset):(qa.start+=fa.startOffset,qa.stop+=fa.startOffset);na=fa.rt(fa.url,qa,fa.Zx);return new aa.kv(na,qa,ra,sa)};return fa}Object(pa.c)(la,ha);return la})(z);Object(r.a)(z);Object(r.b)(z);ua["default"]=z}}]);}).call(this || window)
