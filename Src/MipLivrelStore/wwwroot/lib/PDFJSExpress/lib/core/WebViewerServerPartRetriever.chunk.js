/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[17],{394:function(Ca,ua,r){function pa(){return!1}function ja(x,z,ha){if(!(z in h))return!0;z=h[z];for(var la=0;la<z.length;la++){var aa=x;var ca=z[la];var ia=ha;if(ca.name in aa){var fa="",ma=!1;aa=aa[ca.name];switch(ca.type){case "s":fa="String";ma=Object(ea.isString)(aa);break;case "a":fa="Array";ma=Object(ea.isArray)(aa);break;case "n":fa="Number";ma=Object(ea.isNumber)(aa)&&Object(ea.isFinite)(aa);break;case "o":fa="Object",
ma=Object(ea.isObject)(aa)&&!Object(ea.isArray)(aa)}ma||ia.reject('Expected response field "'+ca.name+'" to have type '+fa);ca=ma}else ia.reject('Response missing field "'+ca.name+'"'),ca=!1;if(!ca)return!1}return!0}r.r(ua);var ka=r(1),ea=r(0);r.n(ea);var da=r(2);Ca=r(48);var ba=r(32),w=r(413),y=r(84),f=r(315),e=r(38),a=r(142),b=function(){function x(){this.request=this.result=null;this.state=0;var z=this;z.promise=new Promise(function(ha,la){z.resolve=function(){if(0===z.state||4===z.state)z.state=
1,z.result=arguments[0],ha.apply(null,arguments)};z.reject=function(){if(0===z.state||4===z.state)z.state=2,la.apply(null,arguments)}})}x.prototype.Sq=function(){return 1===(this.state&1)};x.prototype.E7=function(){return 2===(this.state&2)};x.prototype.Jh=function(){return!this.E7()&&!this.Sq()};x.prototype.f7=function(){return 4===(this.state&4)};x.prototype.IH=function(){this.state|=4};return x}(),n=function(){function x(){this.Eq={};this.sb=[]}x.prototype.pop=function(){var z=this.sb.pop();this.Eq[z.key]=
void 0;return z};x.prototype.push=function(z,ha){ha={key:z,data:ha};this.sb.push(ha);this.Eq[z]=ha.data};x.prototype.contains=function(z){return!!this.Eq[z]};x.prototype.get=function(z){return this.Eq[z]};x.prototype.set=function(z,ha){var la=this;this.Eq[z]=ha;this.sb.forEach(function(aa,ca){aa.key===z&&(la.sb[ca]=aa)})};x.prototype.remove=function(z){var ha=this;this.Eq[z]=void 0;this.sb.forEach(function(la,aa){la.key===z&&ha.sb.splice(aa,1)})};x.prototype.length=function(){return this.sb.length};
return x}(),h={pages:[{name:"pages",type:"a"}],pdf:[{name:"url",type:"s"}],docmod:[{name:"url",type:"s"},{name:"rID",type:"s"}],health:[],tiles:[{name:"z",type:"n"},{name:"rID",type:"n"},{name:"tiles",type:"a"},{name:"size",type:"n"}],cAnnots:[{name:"annots",type:"a"}],annots:[{name:"url",type:"s"},{name:"name",type:"s"}],image:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],text:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],ApString2Xod:[{name:"url",type:"s"},
{name:"rID",type:"s"}]};r=function(){function x(z,ha,la){var aa=this;this.hI=this.SM=!1;this.jg=this.RB=this.Ur=this.qG=this.GD=this.Rk=null;this.Ak=new b;this.xn=new b;this.qy=!1;this.Ne=this.Ud=this.Vd=this.He=null;this.bf=[];this.Xy=[];this.cache={};this.timeStamp=0;this.dg=[];this.Th=[];this.zE=null;this.BM=!1;this.HS=this.id=null;this.fG=this.SO=pa;this.Wg=0;this.yF=!1;this.oQ=1;this.Oh={};this.Ap=0;this.sr=new n;ha.endsWith("/")||(ha+="/");la=la||{};this.SM=la.disableWebsockets||!1;this.hI=
la.singleServerMode||!1;null!=la.customQueryParameters&&Object(e.b)("wvsQueryParameters",la.customQueryParameters);ha.endsWith("blackbox/")||(ha+="blackbox/");this.Rk=la.uploadData||null;this.Ur=la.uriData||null;this.GD=la.cacheKey||null;this.qG=la.officeOptions||null;this.me=ha;this.gE=z;this.xm(!0);this.Pp=(new w.a(ha,null,this.Jg())).C3(!this.SM,function(ca){aa.V8(ca)},function(){return null},function(){aa.qy=!1},function(){aa.Uaa()})}x.prototype.G0=function(){var z=this;return new Promise(function(ha,
la){var aa=new XMLHttpRequest;aa.open("GET",z.me+"ck");aa.withCredentials=z.Jg();aa.onreadystatechange=function(){aa.readyState===XMLHttpRequest.DONE&&(200===aa.status?ha():la())};aa.send()})};x.prototype.Zba=function(z){this.SO=z||pa;this.fG=pa};x.prototype.H_=function(){this.mS();return this.Pp.Hn(!0)};x.prototype.mS=function(){Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(z){switch(z.label){case 0:return this.xn=new b,this.Ak=new b,this.qy=!1,this.id=null,this.BM=
!1,[4,this.G0()];case 1:return z.ea(),[2]}})})};x.prototype.Uaa=function(){this.SO();this.mS();this.He&&(this.He.Jh()?this.og(this.He.request):this.He.Sq()&&this.fG(this.He.result.url,"pdf")&&(this.He=null,this.lS()));this.Ne&&this.Ne.Jh()&&this.og(this.Ne.request);this.Vd&&this.Vd.Jh()?this.og(this.Vd.request):this.Ud&&this.Ud.Jh()&&this.GO();var z;for(z=0;z<this.dg.length;z++)this.dg[z]&&(this.dg[z].Jh()?this.og(this.dg[z].request):this.dg[z].Sq()&&this.fG(this.dg[z].result.url,"image")&&(this.dg[z]=
null,this.$A(Object(ea.uniqueId)(),z)));for(z=0;z<this.Th.length;z++)this.Th[z]&&this.Th[z].Jh()&&!this.Th[z].f7()&&this.og(this.Th[z].request);for(z=0;z<this.bf.length;z++)this.bf[z]&&this.bf[z].Jh()&&this.og(this.bf[z].request)};x.prototype.P6=function(){return this.qy?Promise.resolve():(this.qy=!0,this.timeStamp=Date.now(),this.Pp.Mz())};x.prototype.Uda=function(){var z=this,ha,la,aa,ca,ia;return new Promise(function(fa,ma){if(z.Rk)ha=new FormData,ha.append("file",z.Rk.fileHandle,z.Rk.fileHandle.name),
la=z.Rk.loadCallback,ca="upload",aa=z.Rk.extension;else if(z.Ur)ha={uri:z.Ur.uri,Bka:z.Ur.shareId},ha=Object.keys(ha).map(function(ra){return ra+"="+(ha[ra]?encodeURIComponent(ha[ra]):"")}).join("&"),ia="application/x-www-form-urlencoded; charset=UTF-8",la=z.Ur.loadCallback,ca="url",aa=z.Ur.extension;else{fa();return}var na=new XMLHttpRequest,qa=Object(ba.h)(z.me,"AuxUpload");qa=Object(a.a)(qa,{type:ca,ext:aa});na.open("POST",qa);na.withCredentials=z.Jg();ia&&na.setRequestHeader("Content-Type",ia);
na.addEventListener("load",function(){if(na.readyState===na.DONE&&200===na.status){var ra=JSON.parse(na.response);z.gE=ra.uri;la(ra);fa(ra)}});na.addEventListener("error",function(){ma(na.statusText+" "+JSON.stringify(na))});z.Rk&&null!=z.Rk.onProgress&&(na.upload.onprogress=function(ra){z.Rk.onProgress(ra)});na.send(ha)})};x.prototype.Kaa=function(z){this.password=z||null;this.Ak.Sq()||(this.Ak=new b,this.og({t:"pages"}));return this.Ak.promise};x.prototype.qv=function(z){this.zE=z||null;this.Ak.Sq()||
this.og({t:"pages"});return this.Ak.promise};x.prototype.qt=function(z){z=Object.assign(z,{uri:encodeURIComponent(this.gE)});this.zE&&(z.ext=this.zE);this.jg&&(z.c=this.jg);this.password&&(z.pswd=this.password);this.GD&&(z.cacheKey=this.GD);this.qG&&(z.officeOptions=this.qG);return z};x.prototype.qba=function(){0<this.sr.length()&&10>=this.Ap&&this.rba(this.sr.pop().data)};x.prototype.j_=function(z){0<this.sr.length()&&this.sr.contains(z)&&this.sr.remove(z)};x.prototype.og=function(z){z=this.qt(z);
this.Pp.send(z)};x.prototype.CS=function(z,ha){10<this.Ap?this.sr.push(z,ha):(this.Ap++,z=this.qt(ha),this.Pp.send(z))};x.prototype.rba=function(z){this.Ap++;z=this.qt(z);this.Pp.send(z)};x.prototype.Pj=function(z){return z};x.prototype.RO=function(z){this.hI&&z?Object(da.j)("Server failed health check. Single server mode ignoring check."):!this.Nga&&z&&3>=this.Wg?(this.yF=!0,this.Pp.Hn()):3<this.Wg&&(this.hI=!0)};x.prototype.V8=function(z){var ha=this,la=z.data,aa=z.err,ca=z.t;switch(ca){case "upload":aa?
this.Vda.reject(aa):this.Vda.resolve("Success");break;case "pages":aa?this.Ak.reject(aa):ja(la,ca,this.Ak)&&this.Ak.resolve(la);break;case "config":if(aa)this.xn.reject(aa);else if(ja(la,ca,this.xn)){this.RO(la.unhealthy);la.id&&(this.id=la.id);if(la.auth){var ia=Object(e.a)("wvsQueryParameters");ia.auth=la.auth;Object(e.b)("wvsQueryParameters",ia)}la.serverVersion&&(this.RB=la.serverVersion,Object(da.h)("[WebViewer Server] server version: "+this.RB));la.serverID?(this.Wg=la.serverID===this.HS&&this.yF?
this.Wg+1:0,this.HS=la.serverID):this.Wg=0;this.yF=!1;this.xn.resolve(la)}break;case "health":aa?this.xn.reject(aa):ja(la,ca,this.xn)&&this.RO(la.unhealthy);break;case "pdf":la.url=Object(a.a)(this.me+"../"+encodeURI(la.url));aa?this.He.reject(aa):ja(la,ca,this.He)&&this.He.resolve(la);break;case "ApString2Xod":la.url=Object(a.a)(this.me+"../data/"+encodeURI(la.url));aa?this.Oh[la.rID].reject(aa):ja(la,ca,this.Oh[la.rID])&&this.Oh[la.rID].resolve(la);break;case "docmod":la.url=Object(a.a)(this.me+
"../"+encodeURI(la.url));aa?this.Oh[la.rID].reject(aa):ja(la,ca,this.He)&&this.Oh[la.rID].resolve(la);break;case "xod":if(aa)this.Vd&&this.Vd.Jh()&&this.Vd.reject(aa),this.Ud&&this.Ud.Jh()&&this.Ud.reject(aa);else if(la.notFound)la.noCreate||this.Vd&&this.Vd.Jh()&&this.Vd.resolve(la),this.Ud&&this.Ud.Jh()&&this.Ud.resolve(la);else{la.url&&(la.url=Object(a.a)(this.me+"../"+encodeURI(la.url)));if(!this.Ud||this.Ud.Sq())this.Ud=new b,this.Ud.request={t:"xod",noCreate:!0};this.Vd||(this.Vd=new b,this.Vd.request=
{t:"xod"});this.Ud.resolve(la);this.Vd.resolve(la)}break;case "cAnnots":ia=this.Ne;if(aa)ia.reject(aa);else if(ja(la,ca,ia)){ia.IH();var fa=[],ma=la.annots;la=function(ta){var Ea=ma[ta].s,Ga=ma[ta].e,La=na.me+"../"+encodeURI(ma[ta].xfdf),Pa="true"===ma[ta].hasAppearance?Object(a.a)(La+".xodapp"):null,Fa=Object(ea.range)(Ea,Ga+1);fa[ta]={range:Fa,promise:new Promise(function(Ma,Ta){var Oa=new XMLHttpRequest;Oa.open("GET",Object(a.a)(La));Oa.responseType="text";Oa.withCredentials=ha.Jg();Oa.addEventListener("load",
function(){Oa.readyState===Oa.DONE&&200===Oa.status&&Ma({Zo:Oa.response,Hj:Pa,range:Fa})});Oa.addEventListener("error",function(){Ta(Oa.statusText+" "+JSON.stringify(Oa))});Oa.send()})}};var na=this;for(aa=0;aa<ma.length;aa++)la(aa);ia.resolve(fa)}break;case "annots":if(aa)this.Ne.reject(aa);else if(ja(la,ca,this.Ne)){this.Ne.IH();var qa=new XMLHttpRequest;ia=this.me+"../"+encodeURI(la.url);var ra=la.hasAppearance?Object(a.a)(ia+".xodapp"):null;qa.open("GET",Object(a.a)(ia));qa.responseType="text";
qa.withCredentials=this.Jg();qa.addEventListener("load",function(){qa.readyState===qa.DONE&&200===qa.status&&ha.Ne.resolve({Zo:qa.response,Hj:ra})});qa.addEventListener("error",function(){ha.Ne.reject(qa.statusText+" "+JSON.stringify(qa))});qa.send()}break;case "image":this.Ap--;var sa=this.dg[la.p];aa?sa.promise.reject(aa):ja(la,ca,sa)&&(sa.result=la,sa.result.url=Object(a.a)(this.me+"../"+encodeURI(sa.result.url)),sa.resolve(sa.result));break;case "tiles":this.Ap--;sa=la.rID;ia=this.bf[sa];this.bf[sa]=
null;this.Xy.push(sa);if(aa)ia.reject(aa);else if(ja(la,ca,ia)){for(aa=0;aa<la.tiles.length;aa++)la.tiles[aa]=Object(a.a)(this.me+"../"+encodeURI(la.tiles[aa]));ia.resolve(la)}break;case "text":sa=this.Th[la.p];if(aa)sa.reject(aa);else if(ja(la,ca,sa)){sa.IH();var va=new XMLHttpRequest;la=Object(a.a)(this.me+"../"+encodeURI(la.url));va.open("GET",la);va.withCredentials=this.Jg();va.addEventListener("load",function(){va.readyState===va.DONE&&200===va.status&&(sa.result=JSON.parse(va.response),sa.resolve(sa.result))});
va.addEventListener("error",function(ta){sa.reject(va.statusText+" "+JSON.stringify(ta))});va.send()}break;case "progress":"loading"===la.t&&this.trigger(y.a.Events.DOCUMENT_LOADING_PROGRESS,[la.bytes,la.total])}this.qba();!ca&&z.echo&&z&&"apstring2xod"===z.echo.t&&(z=z.echo.reqID)&&(2<=parseInt(this.RB,10)?this.Oh[z].reject("Message unhandled by server"):this.Oh[z].reject())};x.prototype.j4=function(){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(z){switch(z.label){case 0:return[4,
this.P6()];case 1:return z.ea(),[2,this.xn.promise]}})})};x.prototype.Q3=function(z){for(var ha=this,la=new XMLHttpRequest,aa=Object(a.a)(this.me+"aul",{id:this.id}),ca=new FormData,ia={},fa=0;fa<z.body.length;fa++){var ma=z.body[fa];ia[ma.id]=ma.vD.w+";"+ma.vD.h;ca.append(ma.id,ma.vD.dataString)}z={t:"apstring2xod",reqID:this.oQ++,parts:ia};var na=this.qt(z);ca.append("msg",JSON.stringify(na));this.Oh[na.reqID]=new b;la.open("POST",aa);la.withCredentials=this.Jg;aa=new Promise(function(qa,ra){la.onreadystatechange=
function(){4===la.readyState&&(200===la.status?qa():ra("An error occurred while sending down appearance strings to the server"))}});la.send(ca);return aa.then(function(){return ha.Oh[na.reqID].promise})};x.prototype.J_=function(){var z=this.RB.split("-")[0].split("."),ha=["1","5","9"];if(3!==z.length)throw Error("Invalid WVS version length.");if(3!==ha.length)throw Error("Invalid version length.");for(var la=0;la<z.length;++la){if(ha.length===la||z[la]>ha[la])return-1;if(z[la]!==ha[la])return 1}return 0};
x.prototype.un=function(){return 0>=this.J_()};x.prototype.IE=function(){this.Ne||(this.Ne=new b,this.un()?this.Ne.request={t:"cAnnots"}:this.Ne.request={t:"annots"},this.og(this.Ne.request));return this.Ne.promise};x.prototype.$A=function(z,ha){this.dg[ha]||(this.dg[ha]=new b,this.dg[ha].request={t:"image",p:ha},this.CS(z,this.dg[ha].request));return this.dg[ha].promise};x.prototype.Laa=function(z){this.Th[z]||(this.Th[z]=new b,this.Th[z].request={t:"text",p:z},this.og(this.Th[z].request));return this.Th[z].promise};
x.prototype.Maa=function(z,ha,la,aa,ca){var ia=this.bf.length;this.Xy.length&&(ia=this.Xy.pop());this.bf[ia]=new b;this.bf[ia].request={t:"tiles",p:ha,z:la,r:aa,size:ca,rID:ia};this.CS(z,this.bf[ia].request);return this.bf[ia].promise};x.prototype.lS=function(){this.He||(this.He=new b,this.He.request={t:"pdf"},this.BM?this.He.resolve({url:this.gE}):this.og(this.He.request));return this.He.promise};x.prototype.lO=function(z){var ha=this,la=new XMLHttpRequest,aa=Object(a.a)(this.me+"aul",{id:this.id}),
ca=new FormData,ia={};z.annots&&(ia.annots="xfdf");z.watermark&&(ia.watermark="png");z.redactions&&(ia.redactions="redact");ia={t:"docmod",reqID:this.oQ++,parts:ia};z.print&&(ia.print=!0);var fa=this.qt(ia);ca.append("msg",JSON.stringify(fa));return Promise.all([z.annots,z.watermark,z.redactions].map(function(ma){return Promise.resolve(ma)})).then(function(ma){var na=ma[0],qa=ma[1];ma=ma[2];na&&ca.append("annots",na);qa&&ca.append("watermark",qa);ma&&ca.append("redactions",ma);ha.Oh[fa.reqID]=new b;
la.open("POST",aa);la.withCredentials=ha.Jg;na=new Promise(function(ra,sa){la.onreadystatechange=function(){4===la.readyState&&(200===la.status?ra():sa("An error occurred while sending down annotation data to the server"))}});la.send(ca);return na.then(function(){return ha.Oh[fa.reqID].promise})})};x.prototype.GO=function(){this.Ud||(this.Ud=new b,this.Ud.request={t:"xod",noCreate:!0},this.og(this.Ud.request));return this.Ud.promise};x.prototype.Naa=function(){this.Vd||(this.Vd=new b,this.Vd.request=
{t:"xod"},this.og(this.Vd.request));return this.Vd.promise};x.prototype.sm=function(){return!0};x.prototype.request=function(){};x.prototype.GR=function(){};x.prototype.abort=function(){for(var z=0;z<this.bf.length;z++)this.bf[z]&&(this.bf[z].resolve(null),this.bf[z]=null,this.Xy.push(z));this.close()};x.prototype.jB=function(z){this.jg=this.jg||{};this.jg.headers=z};x.prototype.xm=function(z){this.jg=this.jg||{};this.jg.internal=this.jg.internal||{};this.jg.internal.withCredentials=z};x.prototype.Jg=
function(){return this.jg&&this.jg.internal?this.jg.internal.withCredentials:null};x.prototype.getFileData=function(){return Promise.reject()};return x}();Object(Ca.a)(r);Object(f.a)(r);Object(f.b)(r);ua["default"]=r},413:function(Ca,ua,r){var pa=r(1),ja=r(2),ka=r(32),ea=r(38),da=r(142),ba=r(103),w=function(){function f(e,a,b,n,h,x){void 0===b&&(b=null);void 0===n&&(n=null);void 0===h&&(h=null);void 0===x&&(x=null);this.XP=!1;this.Wg=0;this.SL=this.lea(e);this.url=a?this.SL+"/"+a:this.SL+"/ws";this.cE=
b;this.Tu=n;this.nt=h;this.rH=x}f.prototype.lea=function(e){var a=e.indexOf("://"),b="ws://";0>a?a=0:(5===a&&(b="wss://"),a+=3);var n=e.lastIndexOf("/");0>n&&(n=e.length);return b+e.slice(a,n)};f.prototype.send=function(e){this.Hm.readyState===WebSocket.CLOSED||this.XP||this.Hm.send(JSON.stringify(e))};f.prototype.Mz=function(){return Object(pa.b)(this,void 0,void 0,function(){var e,a=this;return Object(pa.d)(this,function(){e=Object(ea.a)("wvsQueryParameters");e.bcid=Object(ka.i)(8);Object(ea.b)("wvsQueryParameters",
e);return[2,new Promise(function(b,n){var h=Object(da.a)(a.url);a.Hm=new WebSocket(h);a.Hm.onopen=function(){a.Tu&&a.Tu();b()};a.Hm.onerror=function(x){a.XP=!0;n(x)};a.Hm.onclose=function(x){var z=x.code;return Object(pa.b)(a,void 0,void 0,function(){var ha=this;return Object(pa.d)(this,function(la){switch(la.label){case 0:return this.nt&&this.nt(),3E3===z?[3,3]:8>this.Wg++?[4,new Promise(function(aa){return setTimeout(function(){return Object(pa.b)(ha,void 0,void 0,function(){return Object(pa.d)(this,
function(ca){switch(ca.label){case 0:return this.rH(),[4,this.Mz()];case 1:return ca.ea(),aa(),[2]}})})},3E3)})]:[3,2];case 1:return la.ea(),[3,3];case 2:n(ba.a),la.label=3;case 3:return[2]}})})};a.Hm.onmessage=function(x){x&&x.data&&(x=JSON.parse(x.data),x.hb?a.send({hb:!0}):x.end?close():a.cE(x))}})]})})};f.prototype.Hn=function(e){void 0===e&&(e=!1);this.Wg=0;e?this.Hm.close(3E3):this.Hm.close();return Promise.resolve()};return f}(),y=function(){function f(e,a,b,n,h,x,z){void 0===n&&(n=null);void 0===
h&&(h=null);void 0===x&&(x=null);void 0===z&&(z=null);this.Wg=this.ZA=this.id=0;this.iu=!1;this.request=null;e=this.o$(e);this.url=a?e+"/"+a+"pf":e+"/pf";this.LB=b;this.cE=n;this.Tu=h;this.nt=x;this.rH=z}f.prototype.o$=function(e){var a=e.lastIndexOf("/");0>a&&(a=e.length);return e.slice(0,a)};f.prototype.r0=function(e){e=e.split("\n");for(e[e.length-1]&&e.pop();0<e.length&&3>e[e.length-1].length;)"]"===e.pop()&&(this.id=0);0<e.length&&3>e[0].length&&e.shift();for(var a=0;a<e.length;++a)e[a].endsWith(",")&&
(e[a]=e[a].substr(0,e[a].length-1));return e};f.prototype.uS=function(){return Object(pa.b)(this,void 0,void 0,function(){var e=this;return Object(pa.d)(this,function(a){switch(a.label){case 0:return 8>this.Wg++?[4,new Promise(function(b){return setTimeout(function(){e.rH();e.Mz();b()},3E3)})]:[3,2];case 1:a.ea(),a.label=2;case 2:return[2]}})})};f.prototype.q$=function(e){Object(pa.b)(this,void 0,void 0,function(){var a,b;return Object(pa.d)(this,function(n){switch(n.label){case 0:a=null,b=0,n.label=
1;case 1:if(!(b<e.length))return[3,6];a=JSON.parse(e[b]);if(!a)return[3,5];if(!a.end)return[3,2];close();return[3,5];case 2:if(!a.id||Number(a.id)===this.id)return[3,4];Object(ja.j)("Reconnecting, new server detected");this.Hn();return[4,this.uS()];case 3:return n.ea(),[3,5];case 4:a.hb&&Number(a.id)===this.id?this.send({hb:!0}):this.iu||this.cE(a),n.label=5;case 5:return++b,[3,1];case 6:return[2]}})})};f.prototype.S8=function(e){Object(pa.b)(this,void 0,void 0,function(){var a,b,n;return Object(pa.d)(this,
function(h){switch(h.label){case 0:if(!(3<=e.readyState))return[3,2];try{a=e.responseText.length}catch(x){return Object(ja.h)("caught exception"),[2]}if(0<a)try{b=this.r0(e.responseText),0===this.id&&0<b.length&&(n=JSON.parse(b.shift()),this.id=n.id,this.Wg=0),this.q$(b)}catch(x){}return this.iu?[3,2]:[4,this.uN()];case 1:h.ea(),h.label=2;case 2:return[2]}})})};f.prototype.uN=function(){return Object(pa.b)(this,void 0,void 0,function(){var e=this;return Object(pa.d)(this,function(){return[2,new Promise(function(a,
b){function n(){return Object(pa.b)(e,void 0,void 0,function(){return Object(pa.d)(this,function(x){switch(x.label){case 0:b(),this.Hn(),x.label=1;case 1:return this.iu&&8>this.Wg?[4,this.uS()]:[3,3];case 2:return x.ea(),[3,1];case 3:return[2]}})})}e.request=new XMLHttpRequest;e.request.withCredentials=e.LB;var h=Object(da.a)(e.url,0!==e.id?{id:String(e.id),uc:String(e.ZA)}:{uc:String(e.ZA)});e.ZA++;e.request.open("GET",h,!0);e.request.setRequestHeader("Cache-Control","no-cache");e.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");e.request.onreadystatechange=function(){e.S8(e.request)};e.request.addEventListener("error",n);e.request.addEventListener("timeout",n);e.request.addEventListener("load",function(){e.Tu&&e.Tu();a()});e.request.send()})]})})};f.prototype.Mz=function(){var e=Object(ea.a)("wvsQueryParameters");e.bcid=Object(ka.i)(8);Object(ea.b)("wvsQueryParameters",e);this.ZA=this.id=0;this.iu=!1;return this.uN()};f.prototype.send=function(e){var a=this,b=new XMLHttpRequest;b.withCredentials=this.LB;
var n=Object(da.a)(this.url,{id:String(this.id)}),h=new FormData;h.append("data",JSON.stringify(e));b.addEventListener("error",function(){a.Hn()});b.open("POST",n);b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.send(h)};f.prototype.Hn=function(){this.id=0;this.iu=!0;this.nt&&this.nt();this.request.abort();return Promise.resolve()};return f}();Ca=function(){function f(e,a,b){this.nM=e;this.target=a;this.LB=b}f.prototype.C3=function(e,a,b,n,h){void 0===e&&(e=!0);void 0===a&&(a=null);void 0===
b&&(b=null);void 0===n&&(n=null);void 0===h&&(h=null);return e?new w(this.nM,this.target,a,b,n,h):new y(this.nM,this.target,this.LB,a,b,n,h)};return f}();ua.a=Ca}}]);}).call(this || window)
